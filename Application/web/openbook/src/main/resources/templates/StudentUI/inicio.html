<!--
=========================================================
* Material Dashboard Dark Edition - v2.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard-dark
* Copyright 2019 Creative Tim (http://www.creative-tim.com)

* Coded by www.creative-tim.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    OpenBook
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="../assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="../assets/demo/demo.css" rel="stylesheet" />
</head>

<body class="dark-edition">
  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="black" data-image="../assets/img/sidebar-2.jpg">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
      <div class="logo"><a href="/inicio" class="simple-text logo-normal">
          Open Book
        </a></div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item active ">
            <a class="nav-link" href="/inicio">
              <i class="material-icons">home</i>
              <p>Pagina Principal</p>
            </a>
          </li>
          <li class="nav-item  ">
            <a class="nav-link" href="/user">
              <i class="material-icons">person</i>
              <p>Perfil</p>
            </a>
          </li>

          <li class="nav-item ">
            <a class="nav-link" href="/mochila">
              <i class="material-icons">backpack</i>
              <p>Mochila</p>
            </a>
          </li>


          <!--<li class="nav-item ">
            <a class="nav-link" href="/notifications">
              <i class="material-icons">notifications</i>
              <p>Notificaciones</p>
            </a>
          </li>-->

        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <h2 class="navbar-brand">Pagina Principal</h2>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" data-target="#navigation-example">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form" action="/searchContent" method="post">
              <div class="input-group no-border">
                <input type="search" name="search" id="search" class="form-control" placeholder="Search..." aria-label="Search">
                <button type="submit" class="btn btn-default btn-round btn-just-icon">
                  <i class="material-icons">search</i>
                  <div class="ripple-container"></div>
                </button>
              </div>
            </form>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a tabindex="0" class = "nav-link" href="javascript:void(0)" data-toggle="popover" data-trigger="focus" title="Guía-Inicio"
                   data-content="¡Bienvenido! En la parte superior, el carrusel muestra las publicaciones de mayor ranking. Las publicaciones inferiores, son las más recientes hechas por la comunidad.
                   En la parte inferior de cada publición, encontrará los tags que detallan el estado de verificación del contenido">
                  <i class="material-icons">help</i>
                </a>
              </li>
              <li class="nav-item">

              <li class="nav-item dropdown">
                <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">dashboard</i>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" th:each="category: ${categories}" th:href="@{|/searchContentCategory?id=${category.getId()}|}" th:text="${category.getDescription()}"></a>
                </div>
              </li>

              <li class="nav-item dropdown">
                <a class="nav-link" href="javascript:void(0)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <div >
                    <form th:action="@{/destroy}" method="post">
                      <input class="dropdown-item" href="javascript:void(0)" type="submit" value="Cerrar Sesion" />
                    </form>
                  </div>

                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <!--Carousel Wrapper-->
          <div id="multi-item-example" class="carousel slide carousel-multi-item" data-ride="carousel">

            <!--Controls-->
            <div class="controls-top">

            </div>
            <!--/.Controls-->

            <!--Slides-->
            <div class="carousel-inner" role="listbox">

              <!--First slide-->
              <div class="carousel-item active">

                <div class="col-md-4" style="float:left" th:each="publicationCarousel: ${publicationsCarousel_0}">
                  <div class="card card-chart">
                    <img class="card-img-top" th:src="'/getImage?id='+${publicationCarousel.getId()}" alt="Card image cap" style="object-fit: cover; height: 300px;">
                    <div class="card-header card-header-success">
                      <h4><a th:href="'/publication?id='+${publicationCarousel.getId()}" th:text="${publicationCarousel.getTitle()}">Libro 1</a></h4>
                    </div>
                    <div class="card-body" style="min-height: 10rem;">
                      <h4 class="card-title" th:text="'By -' + ${publicationCarousel.getProfessor().getName()}+' '+ ${publicationCarousel.getProfessor().getSurname()} " >Lorem Ipsum</h4>
                      <p class="card-category" th:text="${publicationCarousel.getDescription()}">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id lacus quis lectus sollicitudin semper.</p>
                    </div>
                    <div class="card-footer">
                      <div class="stats" th:switch="${publicationCarousel.getEstado()}">
                        <div th:case="0">
                          <i class="material-icons text-warning">warning</i> <a class="warning-link" disabled>Sin verificar</a>
                        </div>
                        <div th:case="1">
                          <i class="material-icons text-info">update</i> <a class="info-link" disabled>Verificando</a>
                        </div>
                        <div th:case="2">
                          <i class="material-icons">local_offer</i> Verificado
                        </div>
                        <div th:case="3">
                          <i class="material-icons text-danger">warning</i> <a class="danger-link" disabled>Bloqueado</a>
                        </div>
                      </div>
                      <div class="stats">
                        <form action="/saveInBackPack" method="post">
                          <input style="display: none" th:value="${publicationCarousel.getId()}" name="p_id">
                          <button type="submit" class="btn btn-success"><i class="material-icons">backpack</i></button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--/.First slide-->

              <!--Second slide-->
              <div class="carousel-item">

                <div class="col-md-4" style="float:left" th:each="publicationCarousel: ${publicationsCarousel_1}">
                  <div class="card card-chart">
                    <img class="card-img-top" th:src="'/getImage?id='+${publicationCarousel.getId()}" alt="Card image cap" style="object-fit: cover; height: 300px;">
                    <div class="card-header card-header-success">
                      <h4><a th:href="'/publication?id='+${publicationCarousel.getId()}" th:text="${publicationCarousel.getTitle()}">Libro 1</a></h4>
                    </div>
                    <div class="card-body" style="min-height: 10rem;">
                      <h4 class="card-title" th:text="'By -' + ${publicationCarousel.getProfessor().getName()}+' '+ ${publicationCarousel.getProfessor().getSurname()} " >Lorem Ipsum</h4>
                      <p class="card-category" th:text="${publicationCarousel.getDescription()}">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id lacus quis lectus sollicitudin semper.</p>
                    </div>
                    <div class="card-footer">
                      <div class="stats" th:switch="${publicationCarousel.getEstado()}">
                        <div th:case="0">
                          <i class="material-icons text-warning">warning</i> <a class="warning-link" disabled>Sin verificar</a>
                        </div>
                        <div th:case="1">
                          <i class="material-icons text-info">update</i> <a class="info-link" disabled>Verificando</a>
                        </div>
                        <div th:case="2">
                          <i class="material-icons">local_offer</i> Verificado
                        </div>
                        <div th:case="3">
                          <i class="material-icons text-danger">warning</i> <a class="danger-link" disabled>Bloqueado</a>
                        </div>

                      </div>
                      <div class="stats">
                        <form action="/saveInBackPack" method="post">
                          <input style="display: none" th:value="${publicationCarousel.getId()}" name="p_id">
                          <button type="submit" class="btn btn-success"><i class="material-icons">backpack</i></button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <!--/.Second slide-->

            </div>
            <!--/.Slides-->
            <center>
              <a class="btn btn-success" href="#multi-item-example" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="btn btn-success" href="#multi-item-example" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </center>
          </div>
          <!--/.Carousel Wrapper-->
        </div>

        <div class="container-fluid">
          <div class="row" >
            <div class="col-xl-3 col-md-6 col-lg-12" th:each="publication: ${publications}">
              <div class="card card-chart">
                <img class="card-img-top" th:src="'/getImage?id='+${publication.getId()}" alt="Card image cap" style="object-fit: cover; height: 300px;">
                <div class="card-header card-header-success">
                  <h4><a th:href="'/publication?id='+${publication.getId()}" th:text="${publication.getTitle()}">Libro 1</a></h4>
                </div>
                <div class="card-body" style="min-height: 12rem;">
                  <h4 class="card-title" th:text="'By -' + ${publication.getProfessor().getName()}+' '+ ${publication.getProfessor().getSurname()} " >Lorem Ipsum</h4>
                  <p class="card-category" th:text="${publication.getDescription()}">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id lacus quis lectus sollicitudin semper.</p>
                </div>

                <div class="card-footer">
                  <div class="stats" th:switch="${publication.getEstado()}">
                    <div th:case="0">
                      <i class="material-icons text-warning">warning</i> <a class="warning-link" disabled>Sin verificar</a>
                    </div>
                    <div th:case="1">
                      <i class="material-icons text-info">update</i> <a class="info-link" disabled>Verificando</a>
                    </div>
                    <div th:case="2">
                      <i class="material-icons">local_offer</i> Verificado
                    </div>
                    <div th:case="3">
                      <i class="material-icons text-danger">warning</i> <a class="danger-link" disabled>Bloqueado</a>
                    </div>

                  </div>
                  <div class="stats">
                    <form action="/saveInBackPack" method="post">
                      <input style="display: none" th:value="${publication.getId()}" name="p_id">
                      <button type="submit" class="btn btn-success"><i class="material-icons">backpack</i></button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
        <nav aria-label="Pagination">
          <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${prev <= 0 ? 'disabled': ''}">
              <a class="page-link" th:href="@{|/inicio?page=${prev}|}"><<</a>
            </li>
            <li class="page-item" th:each="page : ${pages}" th:classappend="${current == page ? 'active': ''}">
              <a class="page-link" th:href="@{|/inicio?page=${page}|}" th:text="${page}">1</a>
            </li>
            <li class="page-item" th:classappend="${current >= last ? 'disabled': ''}">
              <a class="page-link" th:href="@{|/inicio?page=${next}|}">>></a>
            </li>
          </ul>
        </nav>
      </div>
      <footer class="footer">
      </footer>
      <script>
        const x = new Date().getFullYear();
        let date = document.getElementById('date');
        date.innerHTML = '&copy; ' + x + date.innerHTML;
      </script>
    </div>
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle">Ayuda</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            ...
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">Gracias</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="https://unpkg.com/default-passive-events"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chartist JS -->
  <script src="../assets/js/plugins/chartist.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/material-dashboard.js?v=2.1.0"></script>
  <!-- Material Dashboard DEMO methods, don't include it in your project! -->
  <script src="../assets/demo/demo.js"></script>
  <script>
    $(function () {
      $('.example-popover').popover({
        container: 'body'
      })
    })
  </script>
  <script>
    $(document).ready(function() {
      $().ready(function() {
        $sidebar = $('.sidebar');

        $('[data-toggle="popover"]').popover()

        $sidebar_img_container = $sidebar.find('.sidebar-background');

        $full_page = $('.full-page');

        $sidebar_responsive = $('body > .navbar-collapse');

        window_width = $(window).width();

        $('.fixed-plugin a').click(function(event) {
          // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
          if ($(this).hasClass('switch-trigger')) {
            if (event.stopPropagation) {
              event.stopPropagation();
            } else if (window.event) {
              window.event.cancelBubble = true;
            }
          }
        });

        $('.fixed-plugin .active-color span').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-color', new_color);
          }

          if ($full_page.length != 0) {
            $full_page.attr('filter-color', new_color);
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.attr('data-color', new_color);
          }
        });

        $('.fixed-plugin .background-color .badge').click(function() {
          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('background-color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-background-color', new_color);
          }
        });

        $('.fixed-plugin .img-holder').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).parent('li').siblings().removeClass('active');
          $(this).parent('li').addClass('active');


          var new_image = $(this).find("img").attr('src');

          if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            $sidebar_img_container.fadeOut('fast', function() {
              $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
              $sidebar_img_container.fadeIn('fast');
            });
          }

          if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $full_page_background.fadeOut('fast', function() {
              $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
              $full_page_background.fadeIn('fast');
            });
          }

          if ($('.switch-sidebar-image input:checked').length == 0) {
            var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
          }
        });

        $('.switch-sidebar-image input').change(function() {
          $full_page_background = $('.full-page-background');

          $input = $(this);

          if ($input.is(':checked')) {
            if ($sidebar_img_container.length != 0) {
              $sidebar_img_container.fadeIn('fast');
              $sidebar.attr('data-image', '#');
            }

            if ($full_page_background.length != 0) {
              $full_page_background.fadeIn('fast');
              $full_page.attr('data-image', '#');
            }

            background_image = true;
          } else {
            if ($sidebar_img_container.length != 0) {
              $sidebar.removeAttr('data-image');
              $sidebar_img_container.fadeOut('fast');
            }

            if ($full_page_background.length != 0) {
              $full_page.removeAttr('data-image', '#');
              $full_page_background.fadeOut('fast');
            }

            background_image = false;
          }
        });

        $('.switch-sidebar-mini input').change(function() {
          $body = $('body');

          $input = $(this);

          if (md.misc.sidebar_mini_active == true) {
            $('body').removeClass('sidebar-mini');
            md.misc.sidebar_mini_active = false;

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

          } else {

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

            setTimeout(function() {
              $('body').addClass('sidebar-mini');

              md.misc.sidebar_mini_active = true;
            }, 300);
          }

          // we simulate the window Resize so the charts will get updated in realtime.
          var simulateWindowResize = setInterval(function() {
            window.dispatchEvent(new Event('resize'));
          }, 180);

          // we stop the simulation of Window Resize after the animations are completed
          setTimeout(function() {
            clearInterval(simulateWindowResize);
          }, 1000);

        });
      });
    });
  </script>
  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();

    });
  </script>
</body>

</html>